{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>{{ resume.full_name }} | Modern Resume</title>
<style>
  :root {
    --theme: {{ resume.color|default:"#2563eb" }};
  }

  .theme { color: var(--theme); }
  .theme-bg { background-color: var(--theme) !important; }

  /* ========================= */
  /* PRINT MODE â€“ REQUIRED */
  /* ========================= */
  @media print {
    body {
      -webkit-print-color-adjust: exact !important;
      print-color-adjust: exact !important;
      background: white !important;
    }

    * {
      -webkit-print-color-adjust: exact !important;
      print-color-adjust: exact !important;
    }

    button {
      display: none !important;
    }

    .shadow,
    .shadow-lg {
      box-shadow: none !important;
    }

    /* Fix grid for print */
    .grid {
      display: grid !important;
    }
  }

  @page {
    size: A4;
    margin: 0;
  }
</style>

</head>

<body class="bg-gray-100">

<div class="max-w-5xl mx-auto my-10 bg-white shadow grid grid-cols-3">

  <!-- SIDEBAR -->
  <aside class="col-span-1 p-6 theme-bg text-white">

    <!-- INITIAL AVATAR (NO IMAGE) -->
    <div class="mx-auto w-28 h-28 rounded-full flex items-center justify-center
                bg-white text-gray-900 text-4xl font-bold border-4 border-white">
      {{ resume.full_name|slice:":1"|upper }}
    </div>

    <!-- NAME -->
    <h1 class="text-xl font-bold text-center mt-4">
      {{ resume.full_name }}
    </h1>

    <!-- CONTACT -->
    <p class="text-xs text-center mt-2">
      {{ resume.email }}<br>
      {{ resume.phone }}
    </p>

    <hr class="my-4 opacity-30">

    <!-- SKILLS -->
    <h2 class="text-sm font-semibold mb-2">Skills</h2>
    {{ resume.skills|safe }}

  </aside>

  <!-- MAIN CONTENT -->
  <main class="col-span-2 p-8">

    <!-- PROFILE -->
    <section class="mb-6">
      <h2 class="font-semibold text-lg border-b pb-1 mb-2 theme">
        Profile
      </h2>
      {{ resume.summary|safe }}
    </section>

    <!-- EXPERIENCE -->
    <section class="mb-6">
      <h2 class="font-semibold text-lg border-b pb-1 mb-2 theme">
        Experience
      </h2>
      {{ resume.experience|safe }}
    </section>

    <!-- EDUCATION -->
    <section>
      <h2 class="font-semibold text-lg border-b pb-1 mb-2 theme">
        Education
      </h2>
      {{ resume.education|safe }}
    </section>

  </main>

</div>

</body>
</html>
